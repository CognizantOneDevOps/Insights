<!--
*******************************************************************************
 * Copyright 2021 Cognizant Technology Solutions
 * 
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License.  You may obtain a copy
 * of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 * License for the specific language governing permissions and limitations under
 * the License.
 ****************************************************************************** -->

 <div class="pageCss">
    <div layout layout-align="left" class="titleStyle">
      <div>Configuration |
        <a class="greenTitleTxt">MileStone Configuration </a>
      </div>
    </div>
    <div class="orangeStripCss"></div>
    <div layout layout-align="left" class="sectionHeadingStyle">
      <div layout>&nbsp; MileStone Configuration
        <span class="sectionSubHeading"> (Configure a MileStone)
        </span>
      </div>
    </div>
    <div class="btnAlign">

      <button type="submit" mat-icon-button [disabled]="!mileStoneForm.valid" (click)="onSubmit()">
        <mat-icon title="Save" style="margin-top: 10%;" class="mat-icon material-icons">
          save
        </mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon title="Refresh" style="margin-top: 10%;" class="mat-icon material-icons">
          cancel
        </mat-icon>
      </button>
      <button mat-icon-button (click)="redirect()">
        <mat-icon svgIcon="redirect_icon" title="Redirect To Landing Page" style="margin-bottom: 20%;"
          class="mat-icon material-icons">
        </mat-icon>
      </button>
    </div>
    <div style="display: flex; justify-content: center; align-items: center">
      <div class="loading-indicator">
        <mat-progress-spinner *ngIf="false" [diameter]="100" color="primary" mode="indeterminate">
        </mat-progress-spinner>
      </div>
    </div>
    <table class="mat-elevation-z8 mat-table">
      <thead>
        <tr class="mat-header-row" layout-align="start start">
          <th colspan="4" class="tableHeaderCss mat-header-cell" style=" border-radius: 10px 10px 0 0;">
            <span class="mainHeaderText">Add Configuration Details </span>
            <span class="infoHeaderText">(Please provide accurate details.
              Fields marked "<span style="color:#ff0000;">*</span>" are mandatory)
            </span>
          </th>
        </tr>
      </thead>
      <tbody>
      <div class="form">
        <form [formGroup]="mileStoneForm" (ngSubmit)="onSubmit()">
          <tr class="mat-row-webhook">
            <td class="mat-cell" class="columnName">
              <span class="mainText">MileStone Name</span>
              <span style="color:#ff0000;">*</span>
            </td>
            <td class="columnComponent">
              <input matinput maxlength="20" class="form-control" formControlName="mileStoneName" type="text"
                autocomplete="off" placeholder="Enter mile stone name" disabled  [ngClass]="['input-disabled', 'form-control']">
            </td>
            <td class="info">
              <span class="infoText">Enter MileStone name.</span>
            </td>
          </tr>
          <tr class="mat-row-webhook">
            <td class="mat-cell" class="columnName">
              <span class="mainText">MileStone Release ID</span>
              <span style="color:#ff0000;">*</span>
            </td>
            <td class="columnComponent">
              <input matinput maxlength="20" class="form-control" formControlName="milestoneReleaseID" type="text"
                autocomplete="off" placeholder="Enter release ID">
            </td>
            <td class="info">
              <span class="infoText">Enter Release ID for this milestone</span>
            </td>
          </tr>
          <tr class="mat-row-webhook">
            <td class="mat-cell" class="columnName">
              <span class="mainText">Start Date</span>
              <span style="color:#ff0000;">*</span>
            </td>
            <td class="columnComponent">
            <mat-form-field  appearance="standard" style="width: 85%;">
              <mat-label>Choose start date</mat-label> 
              <input matInput [matDatepicker]="startpicker" formControlName="startDate" [(ngModel)]="startDate" disabled>
              <mat-datepicker-toggle matSuffix [for]="startpicker" class="mat-form-field-wrapper"></mat-datepicker-toggle>
              <mat-datepicker #startpicker [disabled]=false></mat-datepicker>
            </mat-form-field>
            </td>
            <td class="info">
              <span class="infoText">Enter Start date.</span>
            </td>
          </tr>
  
           <tr class="mat-row-webhook">
            <td class="mat-cell" class="columnName">
              <span class="mainText">End Date</span>
              <span style="color:#ff0000;">*</span>
            </td>
            <td class="columnComponent">
            <mat-form-field appearance="standard" style="width: 85%;">
              <mat-label>Choose End date</mat-label>
              <input matInput [matDatepicker]="endpicker" formControlName="endDate" [(ngModel)]="endDate" disabled>
              <mat-datepicker-toggle matSuffix [for]="endpicker"></mat-datepicker-toggle>
              <mat-datepicker #endpicker [disabled]=false></mat-datepicker>
            </mat-form-field>
            <td>
              <span class="infoText">Choose End date.</span>
            </td>
          </tr>
  
          <!-- <tr class="mat-row-webhook">
            <td class="mat-cell" class="columnName">
              <span class="mainText">Application Name</span>
              <span style="color:#ff0000;">*</span>
            </td>
            <td class="columnComponent">
              <input matinput maxlength="20" class="form-control" formControlName="applicationName" type="text"
                autocomplete="off" placeholder="Enter Application name">
            </td>
            <td>
              <span class="infoText">Enter Application name.</span>
            </td>
          </tr>

          <tr class="mat-row-webhook">
            <td class="mat-cell" class="columnName">
              <span class="mainText">Service Name</span>
              <span style="color:#ff0000;">*</span>
            </td>
            <td class="columnComponent">
              <input matinput maxlength="20" class="form-control" formControlName="serviceName" type="text"
                autocomplete="off" placeholder="Enter Service name">
            </td>
            <td>
              <span class="infoText">Enter service name.</span>
            </td>
          </tr> -->
  
          <!-- <tr class="mat-row-webhook">
            <td class="mat-cell" class="columnName">
              <span class="mainText">Tool Key</span>
              <span style="color:#ff0000;">*</span>
            </td>
            <td class="columnComponent">
              <input matinput maxlength="20" class="form-control" formControlName="toolKey" type="text"
                autocomplete="off" placeholder="Enter Tool key">
            </td>
            <td>
              <span class="infoText">Enter Tool key.</span>
            </td>
          </tr> -->

          <!-- <tr class="mat-row-webhook">
            <td class="mat-cell" class="columnName">
              <span class="mainText">Choose Outcome</span>
              <span style="color:#ff0000;">*</span>
            </td>
            <td class="columnComponent">
              <mat-select class="form-control" placeholder="Select Outcome" formControlName="outcomeList"
              required color="primary" multiple>
                <mat-option *ngFor="let outcome of outcomeArray" aria-selected="true" value="{{outcome.id}}" style="color:#0033A0">
                  {{outcome.outcomeName}} </mat-option>
              </mat-select>
            </td>
            <td>
              <span class="infoText">Select Outcomes</span>
            </td>
          </tr> -->

          <tr class="mat-row-webhook">
            <td class="mat-cell" class="columnName">
              <span class="mainText">Choose Outcome</span>
              <span style="color:#ff0000;">*</span>
            </td>
            <td class="columnComponent">
              <textarea matinput rows="2" type="text" class="form-control" formControlName="outcomeList"
                style="width: 84%;background-color:#e1e3e7;" disabled placeholder="Select Outcome">
              </textarea>
            </td>
            <td>
              <a (click)="openOutcomeDialog()" style="margin-left:-63px;">
                <mat-icon svgIcon="search_icon" [ngStyle]="{color:'#5C068C', height: '20px', width: '20px'}">
                </mat-icon>
              </a>
              <span class="infoText" style="padding-left:45px;">Select Outcomes</span>
            </td>
          </tr>
        </form>
  
        <!-- <p>
          Form Value: {{ mileStoneForm.value | json }}
        </p>
        
        
        <p>
          Form Status: {{ mileStoneForm.status }}
        </p> -->
       
      </div>
    </tbody>
    </table>
  </div>