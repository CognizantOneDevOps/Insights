define(["@grafana/data","@grafana/runtime","@grafana/ui","emotion","jquery","lodash","react"],((e,t,r,n,o,i,a)=>(()=>{var s=[(e,t,r)=>{const n=r(7),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=r(6),{re:a,t:s}=r(3),l=r(8),{compareIdentifiers:u}=r(20);class c{constructor(e,t){if(t=l(t),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?a[s.LOOSE]:a[s.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return u(r,o)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return u(r,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=c},(e,t,r)=>{const n=r(0);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},(e,t,r)=>{class n{constructor(e,t){if(t=i(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!d(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&m(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=o.get(t);if(r)return r;const n=this.options.loose,i=n?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];e=e.replace(i,N(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(u[c.COMPARATORTRIM],h),s("comparator trim",e);let l=(e=(e=(e=e.replace(u[c.TILDETRIM],p)).replace(u[c.CARETTRIM],f)).split(/\s+/).join(" ")).split(" ").map((e=>E(e,this.options))).join(" ").split(/\s+/).map((e=>T(e,this.options)));n&&(l=l.filter((e=>(s("loose invalid filter",e,this.options),!!e.match(u[c.COMPARATORLOOSE]))))),s("range list",l);const m=new Map,v=l.map((e=>new a(e,this.options)));for(const e of v){if(d(e))return[e];m.set(e.value,e)}m.size>1&&m.has("")&&m.delete("");const g=[...m.values()];return o.set(t,g),g}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>v(r,t)&&e.set.some((e=>v(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(S(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const o=new(r(38))({max:1e3}),i=r(8),a=r(10),s=r(7),l=r(0),{re:u,t:c,comparatorTrimReplace:h,tildeTrimReplace:p,caretTrimReplace:f}=r(3),d=e=>"<0.0.0-0"===e.value,m=e=>""===e.value,v=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},E=(e,t)=>(s("comp",e,t),e=w(e,t),s("caret",e),e=y(e,t),s("tildes",e),e=b(e,t),s("xrange",e),e=O(e,t),s("stars",e),e),g=e=>!e||"x"===e.toLowerCase()||"*"===e,y=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{const r=t.loose?u[c.TILDELOOSE]:u[c.TILDE];return e.replace(r,((t,r,n,o,i)=>{let a;return s("tilde",e,t,r,n,o,i),g(r)?a="":g(n)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:g(o)?a=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(s("replaceTilde pr",i),a=`>=${r}.${n}.${o}-${i} <${r}.${+n+1}.0-0`):a=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,s("tilde return",a),a}))},w=(e,t)=>e.trim().split(/\s+/).map((e=>$(e,t))).join(" "),$=(e,t)=>{s("caret",e,t);const r=t.loose?u[c.CARETLOOSE]:u[c.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,i,a)=>{let l;return s("caret",e,t,r,o,i,a),g(r)?l="":g(o)?l=`>=${r}.0.0${n} <${+r+1}.0.0-0`:g(i)?l="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:a?(s("replaceCaret pr",a),l="0"===r?"0"===o?`>=${r}.${o}.${i}-${a} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}-${a} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i}-${a} <${+r+1}.0.0-0`):(s("no pr"),l="0"===r?"0"===o?`>=${r}.${o}.${i}${n} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i} <${+r+1}.0.0-0`),s("caret return",l),l}))},b=(e,t)=>(s("replaceXRanges",e,t),e.split(/\s+/).map((e=>R(e,t))).join(" ")),R=(e,t)=>{e=e.trim();const r=t.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return e.replace(r,((r,n,o,i,a,l)=>{s("xRange",e,r,n,o,i,a,l);const u=g(o),c=u||g(i),h=c||g(a),p=h;return"="===n&&p&&(n=""),l=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(c&&(i=0),a=0,">"===n?(n=">=",c?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===n&&(n="<",c?o=+o+1:i=+i+1),"<"===n&&(l="-0"),r=`${n+o}.${i}.${a}${l}`):c?r=`>=${o}.0.0${l} <${+o+1}.0.0-0`:h&&(r=`>=${o}.${i}.0${l} <${o}.${+i+1}.0-0`),s("xRange return",r),r}))},O=(e,t)=>(s("replaceStars",e,t),e.trim().replace(u[c.STAR],"")),T=(e,t)=>(s("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),N=e=>(t,r,n,o,i,a,s,l,u,c,h,p,f)=>`${r=g(n)?"":g(o)?`>=${n}.0.0${e?"-0":""}`:g(i)?`>=${n}.${o}.0${e?"-0":""}`:a?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=g(u)?"":g(c)?`<${+u+1}.0.0-0`:g(h)?`<${u}.${+c+1}.0-0`:p?`<=${u}.${c}.${h}-${p}`:e?`<${u}.${c}.${+h+1}-0`:`<=${l}`}`.trim(),S=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(s(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(6),o=r(7),i=(t=e.exports={}).re=[],a=t.src=[],s=t.t={};let l=0;const u=(e,t,r)=>{const n=l++;o(e,n,t),s[e]=n,a[n]=t,i[n]=new RegExp(t,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${a[s.NUMERICIDENTIFIER]})\\.(${a[s.NUMERICIDENTIFIER]})\\.(${a[s.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${a[s.NUMERICIDENTIFIERLOOSE]})\\.(${a[s.NUMERICIDENTIFIERLOOSE]})\\.(${a[s.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${a[s.NUMERICIDENTIFIER]}|${a[s.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${a[s.NUMERICIDENTIFIERLOOSE]}|${a[s.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${a[s.PRERELEASEIDENTIFIER]}(?:\\.${a[s.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${a[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[s.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${a[s.BUILDIDENTIFIER]}(?:\\.${a[s.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${a[s.MAINVERSION]}${a[s.PRERELEASE]}?${a[s.BUILD]}?`),u("FULL",`^${a[s.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${a[s.MAINVERSIONLOOSE]}${a[s.PRERELEASELOOSE]}?${a[s.BUILD]}?`),u("LOOSE",`^${a[s.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${a[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${a[s.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${a[s.XRANGEIDENTIFIER]})(?:\\.(${a[s.XRANGEIDENTIFIER]})(?:\\.(${a[s.XRANGEIDENTIFIER]})(?:${a[s.PRERELEASE]})?${a[s.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${a[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[s.XRANGEIDENTIFIERLOOSE]})(?:${a[s.PRERELEASELOOSE]})?${a[s.BUILD]}?)?)?`),u("XRANGE",`^${a[s.GTLT]}\\s*${a[s.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${a[s.GTLT]}\\s*${a[s.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),u("COERCERTL",a[s.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${a[s.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${a[s.LONETILDE]}${a[s.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${a[s.LONETILDE]}${a[s.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${a[s.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${a[s.LONECARET]}${a[s.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${a[s.LONECARET]}${a[s.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${a[s.GTLT]}\\s*(${a[s.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${a[s.GTLT]}\\s*(${a[s.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${a[s.GTLT]}\\s*(${a[s.LOOSEPLAIN]}|${a[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${a[s.XRANGEPLAIN]})\\s+-\\s+(${a[s.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${a[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[s.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},(e,t,r)=>{const{MAX_LENGTH:n}=r(6),{re:o,t:i}=r(3),a=r(0),s=r(8);e.exports=(e,t)=>{if(t=s(t),e instanceof a)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?o[i.LOOSE]:o[i.FULL]).test(e))return null;try{return new a(e,t)}catch(e){return null}}},e=>{"use strict";e.exports=a},e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>{}:()=>{};e.exports=t},e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},(e,t,r)=>{const n=r(1);e.exports=(e,t,r)=>n(e,t,r)>0},(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new c(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new h(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new h(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=l(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=l(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||i&&a||s||u}}e.exports=o;const i=r(8),{re:a,t:s}=r(3),l=r(24),u=r(7),c=r(0),h=r(2)},(e,t,r)=>{const n=r(2);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},e=>{"use strict";e.exports=r},t=>{"use strict";t.exports=e},(e,t,r)=>{const n=r(1);e.exports=(e,t,r)=>0===n(e,t,r)},(e,t,r)=>{const n=r(0);e.exports=(e,t,r)=>{const o=new n(e,r),i=new n(t,r);return o.compare(i)||o.compareBuild(i)}},(e,t,r)=>{const n=r(1);e.exports=(e,t,r)=>n(e,t,r)<0},(e,t,r)=>{const n=r(1);e.exports=(e,t,r)=>n(e,t,r)>=0},(e,t,r)=>{const n=r(1);e.exports=(e,t,r)=>n(e,t,r)<=0},(e,t,r)=>{const n=r(0),o=r(10),{ANY:i}=o,a=r(2),s=r(11),l=r(9),u=r(16),c=r(18),h=r(17);e.exports=(e,t,r,p)=>{let f,d,m,v,E;switch(e=new n(e,p),t=new a(t,p),r){case">":f=l,d=c,m=u,v=">",E=">=";break;case"<":f=u,d=h,m=l,v="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,p))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let a=null,s=null;if(n.forEach((e=>{e.semver===i&&(e=new o(">=0.0.0")),a=a||e,s=s||e,f(e.semver,a.semver,p)?a=e:m(e.semver,s.semver,p)&&(s=e)})),a.operator===v||a.operator===E)return!1;if((!s.operator||s.operator===v)&&d(e,s.semver))return!1;if(s.operator===E&&m(e,s.semver))return!1}return!0}},e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},e=>{"use strict";e.exports=t},(e,t,r)=>{const n=r(3);e.exports={re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r(6).SEMVER_SPEC_VERSION,SemVer:r(0),compareIdentifiers:r(20).compareIdentifiers,rcompareIdentifiers:r(20).rcompareIdentifiers,parse:r(4),valid:r(25),clean:r(26),inc:r(27),diff:r(28),major:r(29),minor:r(30),patch:r(31),prerelease:r(32),compare:r(1),rcompare:r(33),compareLoose:r(34),compareBuild:r(15),sort:r(35),rsort:r(36),gt:r(9),lt:r(16),eq:r(14),neq:r(23),gte:r(17),lte:r(18),cmp:r(24),coerce:r(37),Comparator:r(10),Range:r(2),satisfies:r(11),toComparators:r(41),maxSatisfying:r(42),minSatisfying:r(43),minVersion:r(44),validRange:r(45),outside:r(19),gtr:r(46),ltr:r(47),intersects:r(48),simplifyRange:r(49),subset:r(50)}},(e,t,r)=>{const n=r(1);e.exports=(e,t,r)=>0!==n(e,t,r)},(e,t,r)=>{const n=r(14),o=r(23),i=r(9),a=r(17),s=r(16),l=r(18);e.exports=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,u);case"!=":return o(e,r,u);case">":return i(e,r,u);case">=":return a(e,r,u);case"<":return s(e,r,u);case"<=":return l(e,r,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},(e,t,r)=>{const n=r(4);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},(e,t,r)=>{const n=r(4);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},(e,t,r)=>{const n=r(0);e.exports=(e,t,r,o)=>{"string"==typeof r&&(o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o).version}catch(e){return null}}},(e,t,r)=>{const n=r(4),o=r(14);e.exports=(e,t)=>{if(o(e,t))return null;{const r=n(e),o=n(t),i=r.prerelease.length||o.prerelease.length,a=i?"pre":"",s=i?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==o[e])return a+e;return s}}},(e,t,r)=>{const n=r(0);e.exports=(e,t)=>new n(e,t).major},(e,t,r)=>{const n=r(0);e.exports=(e,t)=>new n(e,t).minor},(e,t,r)=>{const n=r(0);e.exports=(e,t)=>new n(e,t).patch},(e,t,r)=>{const n=r(4);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},(e,t,r)=>{const n=r(1);e.exports=(e,t,r)=>n(t,e,r)},(e,t,r)=>{const n=r(1);e.exports=(e,t)=>n(e,t,!0)},(e,t,r)=>{const n=r(15);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},(e,t,r)=>{const n=r(15);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},(e,t,r)=>{const n=r(0),o=r(4),{re:i,t:a}=r(3);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=i[a.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),i[a.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;i[a.COERCERTL].lastIndex=-1}else r=e.match(i[a.COERCE]);return null===r?null:o(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},(e,t,r)=>{"use strict";const n=r(39),o=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),u=Symbol("dispose"),c=Symbol("noDisposeOnSet"),h=Symbol("lruList"),p=Symbol("cache"),f=Symbol("updateAgeOnGet"),d=()=>1;const m=(e,t,r)=>{const n=e[p].get(t);if(n){const t=n.value;if(v(e,t)){if(g(e,n),!e[s])return}else r&&(e[f]&&(n.value.now=Date.now()),e[h].unshiftNode(n));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},E=e=>{if(e[i]>e[o])for(let t=e[h].tail;e[i]>e[o]&&null!==t;){const r=t.prev;g(e,t),t=r}},g=(e,t)=>{if(t){const r=t.value;e[u]&&e[u](r.key,r.value),e[i]-=r.length,e[p].delete(r.key),e[h].removeNode(t)}};class y{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const I=(e,t,r,n)=>{let o=r.value;v(e,o)&&(g(e,r),e[s]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||d;if(this[a]="function"!=typeof t?d:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[u]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,E(this)}get max(){return this[o]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,E(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[a]&&(this[a]=e,this[i]=0,this[h].forEach((e=>{e.length=this[a](e.value,e.key),this[i]+=e.length}))),E(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let r=this[h].tail;null!==r;){const n=r.prev;I(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[h].head;null!==r;){const n=r.next;I(this,e,r,t),r=n}}keys(){return this[h].toArray().map((e=>e.key))}values(){return this[h].toArray().map((e=>e.value))}reset(){this[u]&&this[h]&&this[h].length&&this[h].forEach((e=>this[u](e.key,e.value))),this[p]=new Map,this[h]=new n,this[i]=0}dump(){return this[h].map((e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[h]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[a](t,e);if(this[p].has(e)){if(s>this[o])return g(this,this[p].get(e)),!1;const a=this[p].get(e).value;return this[u]&&(this[c]||this[u](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[i]+=s-a.length,a.length=s,this.get(e),E(this),!0}const f=new y(e,t,s,n,r);return f.length>this[o]?(this[u]&&this[u](e,t),!1):(this[i]+=f.length,this[h].unshift(f),this[p].set(e,this[h].head),E(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!v(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[h].tail;return e?(g(this,e),e.value):null}del(e){g(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach(((e,t)=>m(this,t,!1)))}}},(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)t.push(arguments[r]);return t}function o(e,t,r){var n=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function i(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,o=this.head;null!==o;)r.push(e.call(t,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,o=this.tail;null!==o;)r.push(e.call(t,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var a=[];for(n=0;i&&n<t;n++)a.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(n=0;n<r.length;n++)i=o(this,i,r[n]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(40)(n)}catch(e){}},e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},(e,t,r)=>{const n=r(2);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},(e,t,r)=>{const n=r(0),o=r(2);e.exports=(e,t,r)=>{let i=null,a=null,s=null;try{s=new o(t,r)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(i&&-1!==a.compare(e)||(i=e,a=new n(i,r)))})),i}},(e,t,r)=>{const n=r(0),o=r(2);e.exports=(e,t,r)=>{let i=null,a=null,s=null;try{s=new o(t,r)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(i&&1!==a.compare(e)||(i=e,a=new n(i,r)))})),i}},(e,t,r)=>{const n=r(0),o=r(2),i=r(9);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let a=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":a&&!i(t,a)||(a=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!a||r&&!i(r,a)||(r=a)}return r&&e.test(r)?r:null}},(e,t,r)=>{const n=r(2);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},(e,t,r)=>{const n=r(19);e.exports=(e,t,r)=>n(e,t,">",r)},(e,t,r)=>{const n=r(19);e.exports=(e,t,r)=>n(e,t,"<",r)},(e,t,r)=>{const n=r(2);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t))},(e,t,r)=>{const n=r(11),o=r(1);e.exports=(e,t,r)=>{const i=[];let a=null,s=null;const l=e.sort(((e,t)=>o(e,t,r)));for(const e of l){n(e,t,r)?(s=e,a||(a=e)):(s&&i.push([a,s]),s=null,a=null)}a&&i.push([a,null]);const u=[];for(const[e,t]of i)e===t?u.push(e):t||e!==l[0]?t?e===l[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const c=u.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return c.length<h.length?c:t}},(e,t,r)=>{const n=r(2),o=r(10),{ANY:i}=o,a=r(11),s=r(1),l=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=r.includePrerelease?[new o(">=0.0.0-0")]:[new o(">=0.0.0")]}if(1===t.length&&t[0].semver===i){if(r.includePrerelease)return!0;t=[new o(">=0.0.0")]}const n=new Set;let l,h,p,f,d,m,v;for(const t of e)">"===t.operator||">="===t.operator?l=u(l,t,r):"<"===t.operator||"<="===t.operator?h=c(h,t,r):n.add(t.semver);if(n.size>1)return null;if(l&&h){if(p=s(l.semver,h.semver,r),p>0)return null;if(0===p&&(">="!==l.operator||"<="!==h.operator))return null}for(const e of n){if(l&&!a(e,String(l),r))return null;if(h&&!a(e,String(h),r))return null;for(const n of t)if(!a(e,String(n),r))return!1;return!0}let E=!(!h||r.includePrerelease||!h.semver.prerelease.length)&&h.semver,g=!(!l||r.includePrerelease||!l.semver.prerelease.length)&&l.semver;E&&1===E.prerelease.length&&"<"===h.operator&&0===E.prerelease[0]&&(E=!1);for(const e of t){if(v=v||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,l)if(g&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===g.major&&e.semver.minor===g.minor&&e.semver.patch===g.patch&&(g=!1),">"===e.operator||">="===e.operator){if(f=u(l,e,r),f===e&&f!==l)return!1}else if(">="===l.operator&&!a(l.semver,String(e),r))return!1;if(h)if(E&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===E.major&&e.semver.minor===E.minor&&e.semver.patch===E.patch&&(E=!1),"<"===e.operator||"<="===e.operator){if(d=c(h,e,r),d===e&&d!==h)return!1}else if("<="===h.operator&&!a(h.semver,String(e),r))return!1;if(!e.operator&&(h||l)&&0!==p)return!1}return!(l&&m&&!h&&0!==p)&&(!(h&&v&&!l&&0!==p)&&(!g&&!E))},u=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},c=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=l(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},,e=>{"use strict";e.exports=n},e=>{"use strict";e.exports=o},e=>{"use strict";e.exports=i}],l={};function u(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={exports:{}};return s[e](r,r.exports,u),r.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{"use strict";u.r(c),u.d(c,{plugin:()=>V});var e=u(5),t=u.n(e),r=u(12);Object.create;function n(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create;var o,i,a=u(52),s=function(e){var s=e.schema,u=e.fields,c=e.url,h=(0,r.useTheme)(),p=l(null!=u?u:[],s);return t().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},t().createElement(r.InfoBox,{title:"Configure your query",url:c,severity:"info",style:{maxWidth:"500px"}},t().createElement("p",null,"Define a data source query that return at least the following field"+(p.length>1?"s":"")+":"),t().createElement("div",null,p.map((function(e,s){var l=e.type,u=e.description,c=e.ok;return t().createElement("div",{key:s,className:(0,a.css)(o||(o=n(["\n                display: flex;\n                align-items: center;\n                padding-bottom: ",";\n                & > * {\n                  margin-right: ",";\n                }\n                & > *:last-child {\n                  margin-right: 0;\n                }\n              "],["\n                display: flex;\n                align-items: center;\n                padding-bottom: ",";\n                & > * {\n                  margin-right: ",";\n                }\n                & > *:last-child {\n                  margin-right: 0;\n                }\n              "])),h.spacing.sm,h.spacing.sm)},c?t().createElement(r.Icon,{name:"check-circle",size:"lg",style:{color:h.palette.brandSuccess}}):t().createElement(r.Icon,{name:"circle",size:"lg",style:{color:h.colors.linkDisabled}}),t().createElement(r.Badge,{className:(0,a.css)(i||(i=n(["\n                  margin-top: 0;\n                "],["\n                  margin-top: 0;\n                "]))),text:l.slice(0,1).toUpperCase()+l.slice(1),color:"blue"}),u&&t().createElement("span",null,""+u))})))))},l=function(e,t){var r=[];return t.map((function(t){var n=t.type,o=t.description,i=e.filter((function(e){return!r.includes(e)})).find((function(e){return e.type===n}));return i&&r.push(i),{type:n,description:o,ok:!!i}}))},h=u(13);u(21),u(22);function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m=f((function e(t,r,n){d(this,e),this.name=t,this.type=r,this.refId=n})),v=f((function e(t,r,n){d(this,e),this.id=t,this.data=r,this.columns=n}));function E(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r,n,o){var i=function(e,t){var r,i=new n.visualization.DataTable,s=E(t);try{for(s.s();!(r=s.n()).done;){var l=r.value;i.addColumn(l.type,l.label)}}catch(e){s.e(e)}finally{s.f()}var u,c,h=[],p=E(o?e:e.series);try{for(p.s();!(c=p.n()).done;){var f=c.value;f.refId===t[0].refId&&(u=f)}}catch(e){p.e(e)}finally{p.f()}for(var d=0;d<u.length;d++){var m,v=[],g=E(u.fields);try{var y=function(){var e=m.value,r=t.find((function(t){return t.label===e.name}));v.push(a(e.values.buffer[d],null==r?void 0:r.type))};for(g.s();!(m=g.n()).done;)y()}catch(e){g.e(e)}finally{g.f()}h.push(v)}return i.addRows(h),i},a=function(e,t){if(null==e)return null;if("string"===t)return e.toString();if("number"===t)return Number(e);if("boolean"===t)return"boolean"==typeof e?e:"true"===e;if("date"===t){if("number"==typeof e){var r=e.toString();if(r.length<13){return e=r+"0000000000000".substring(0,13-r.length),new Date(Number(e))}return new Date(Number(e))}return new Date(e)}if("datetime"===t);else if("timeofday"!==t)throw new TypeError("Unknown Type passed.")};return{buildDataTables:function(e){var t=[];if(e){var r,n=E(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.columns){var a,s=[],l=E(o.columns);try{for(l.s();!(a=l.n()).done;){var u=a.value;s.push({label:u.name,type:u.type,refId:u.refId})}}catch(e){l.e(e)}finally{l.f()}t.push(i(o.data,s))}}}catch(e){n.e(e)}finally{n.f()}}return t},joinDataTables:function(e){if(e&&e.length>0)return null==r||""===r?e[0]:new Function("dataTables",r)(e)},transformData:function(e){return null==t||""===t?e:new Function("data",t)(e)},innerDimensions:function(e){var t=getComputedStyle(e),r=e.clientWidth,n=e.clientHeight;return{height:n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),width:r-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}},applyTheme:function(t){var r=window.grafanaBootData;if(Number(r.settings.buildInfo.version.split(".")[0])>=5){var n,o;o=e.colors.background.primary,n=e.colors.text.primary,t.backgroundColor=o;var i=t.hAxis;void 0===i&&(i={},t.hAxis=i);var a=i.textStyle;void 0===a&&(a={},i.textStyle=a),a.color=n;var s=t.legendTextStyle;void 0===s&&(s={},t.legendTextStyle=s),s.color=n;var l=t.vAxes;for(var u in void 0===l&&(l=[{}],t.vAxes=l),l){var c=l[u],h=c.textStyle;void 0===h&&(h={},c.textStyle=h),h.color=n}}return t}}}function I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $=function(n){var o=n.chartType,i=n.chartOptions,a=n.transformDataInstruction,s=n.joinInstructions,l=(n.container,n.rootId),u=n.data,c=n.isEdit,h=n.columnModel,p=(0,r.useTheme2)(),f=window.google,d=y(p,a,s,f,!1),m=d.buildDataTables,E=d.joinDataTables,g=d.transformData,w=d.innerDimensions,$=d.applyTheme,b=(0,e.useRef)(null),R="containerIdDiv_",O="containerIdDivEdit_",T=new ResizeObserver((function(e){S()}));(0,e.useEffect)((function(){f.charts.load("46",{packages:["corechart","charteditor","gantt"]}),f.charts.setOnLoadCallback(S)}),[]);var N,S=function(){var e,t,r=[],n=I(u.series);try{var a=function(){var e,n=t.value,o=n.refId||"",i=[],a=I(n.fields);try{var s=function(){var t,r=e.value;t=h.find((function(e){return e.name===r.name&&e.refId===o})),i.push(t)};for(a.s();!(e=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}var l=r.findIndex((function(e){return e.id===o}));-1!==l?(r[l].data=u,r[l].columns=i):r.push(new v(o,u,i))};for(n.s();!(t=n.n()).done;)a()}catch(e){n.e(e)}finally{n.f()}var s=m(r),p=E(s);p=g(p);var d,y,b,N,S,x,A={};(void 0!==i&&""!==i&&(A=JSON.parse(i)),c)?(y=O+l,d=null===(b=document.getElementById(y))||void 0===b||null===(N=b.parentNode)||void 0===N?void 0:N.parentNode):(y=R+l,d=null===(S=document.getElementById(y))||void 0===S||null===(x=S.parentNode)||void 0===x?void 0:x.parentNode);T.observe(null===(e=d)||void 0===e?void 0:e.parentNode);var L=w(d);A.height=L.height,A.width=L.width,A=$(A),new f.visualization.ChartWrapper({chartType:o,dataTable:p,containerId:y,options:A}).draw()};return N=c?t().createElement("div",{id:O+l,ref:b}):t().createElement("div",{id:R+l,ref:b}),t().createElement("div",null,N)},b=u(53),R=u.n(b),O=u(54),T=u.n(O);function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t,r){return t&&N(e.prototype,t),r&&N(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var A,L,C,D,P,j,F=S((function e(t,r){x(this,e),this.id=t,this.columnModel=r}));function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(this,arguments)}function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=X(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}(e,t)||X(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B=function(n){n.item;var o,i=n.value,a=n.onChange,s=n.context,l=(0,r.useTheme2)(),u=window.google,c=U((0,e.useState)(""),2),h=c[0],p=c[1],f=U((0,e.useState)(""),2),d=f[0],E=f[1],g=U((0,e.useState)(""),2),I=g[0],w=g[1],$=U((0,e.useState)(""),2),b=$[0],O=$[1],N=U((0,e.useState)([]),2),S=N[0],x=N[1],X=U((0,e.useState)([]),2),_=X[0],B=X[1];(0,e.useEffect)((function(){if(s.options.hasOwnProperty("chartFields")){!function(){"chartOptions"in s.options.chartFields&&w(s.options.chartFields.chartOptions);"chartType"in s.options.chartFields&&O(s.options.chartFields.chartType);"joinInstructions"in s.options.chartFields&&E(s.options.chartFields.joinInstructions);"transformDataInstruction"in s.options.chartFields&&p(s.options.chartFields.transformDataInstruction);"columnModel"in s.options.chartFields?x(s.options.chartFields.columnModel):x([new m("","")])}();var e,t=k(s.data);try{var r=function(){var t,r=e.value,n=r.refId||"",o=[],i=k(r.fields);try{var a=function(){var e,r=t.value;e=S.find((function(e){return e.name===r.name&&e.refId===n})),o.push(e)};for(i.s();!(t=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}var l=_.findIndex((function(e){return e.id===n}));-1!==l?(_[l].data=s.data,_[l].columns=o):_.push(new v(n,s.data,o))};for(t.s();!(e=t.n()).done;)r()}catch(e){t.e(e)}finally{t.f()}B(_)}}),[]);var V=function(e,t){return function(r){var n=S.findIndex((function(r){return r.name===e&&r.refId===t}));n>-1?S[n].type=r.value:S.push(new m(e,r.value,t));var o,l=[],u=k(s.data);try{for(u.s();!(o=u.n()).done;){var c,h=o.value,p=k(h.fields);try{for(p.s();!(c=p.n()).done;){var f=c.value;l.push({refId:h.refId,label:f.name})}}catch(e){p.e(e)}finally{p.f()}}}catch(e){u.e(e)}finally{u.f()}var d=S.filter((function(e){return l.some((function(t){return t.refId===e.refId&&t.label===e.name}))}));x(d),a(G({},i,{columnModel:d}))}},z=y(l,h,d,u,!0),H=z.buildDataTables,J=z.joinDataTables,Y=z.transformData,q=z.innerDimensions,W=z.applyTheme,Z=function e(t){s.data&&s.data.length>0&&(document.getElementById("googleId")&&u&&u.charts?t?(u.charts.load("46",{packages:["corechart","charteditor"]}),u.charts.setOnLoadCallback(K())):I&&u.charts.load("46",{packages:["corechart"]}):setTimeout((function(){e(t)}),50))},K=function(){var e=function(){var e,t=[],r=k(s.data);try{var n=function(){var r,n=e.value,o=n.refId||"",i=[],a=k(n.fields);try{var l=function(){var e,t=r.value;e=S.find((function(e){return e.name===t.name&&e.refId===o})),i.push(e)};for(a.s();!(r=a.n()).done;)l()}catch(e){a.e(e)}finally{a.f()}var u=_.findIndex((function(e){return e.id===o}));-1!==u?(_[u].data=s.data,_[u].columns=i):_.push(new v(o,s.data,i));var c=new F(o,i);t.push(c)};for(r.s();!(e=r.n()).done;)n()}catch(e){r.e(e)}finally{r.f()}B(_),a(G({},i,{dataArray:_}));var o=H(_),l=J(o);return l=Y(l)}(),t=function(){var e,t,r;null==b&&O("PieChart");r=void 0===I||""===I?{}:JSON.parse(I);var n=window.location.search,o=new URLSearchParams(n).get("editPanel"),i="containerIdDivEdit_insights_"+o,a="containerIdDiv_insights_"+o,s=q(null===(e=document.getElementById(i))||void 0===e||null===(t=e.parentNode)||void 0===t?void 0:t.parentNode);return r.height=s.height,r.width=s.width,r=W(r),w(JSON.stringify(r)),{defchartOptions:r,contId:i,contIdView:a}}(),r=t.defchartOptions,n=t.contId,l=t.contIdView,c=new u.visualization.ChartWrapper({chartType:b,dataTable:e,options:r});(o=new u.visualization.ChartEditor).openDialog(c,{}),Q(),u.visualization.events.addListener(o,"ok",(function(){var e,t,r=o.getChartWrapper(),s=r.getOptions(),u=q(null===(e=document.getElementById(n))||void 0===e||null===(t=e.parentNode)||void 0===t?void 0:t.parentNode),c=r.getOptions();c.height=u.height,c.width=u.width,c=T().defaults(c,s),w(JSON.stringify(c)),a(G({},i,{chartOptions:JSON.stringify(c)})),O(r.getChartType()),a(G({},i,{chartType:r.getChartType()})),setTimeout((function(){r.draw(document.getElementById(n),c)}),2e3);var h=document.getElementById(l);if(null!==h){var p,f,d=o.getChartWrapper(),m=q(null===(p=document.getElementById(n))||void 0===p||null===(f=p.parentNode)||void 0===f?void 0:f.parentNode),v=c;v.height=m.height,v.width=m.width,w(JSON.stringify(v)),a(G({},i,{chartOptions:JSON.stringify(v)})),O(d.getChartType()),a(G({},i,{chartType:d.getChartType()})),d.draw(h,v)}o.openDialog(o.getChartWrapper(),{}),Q()})),u.visualization.events.addListener(o,"cancel",(function(){R()("#googleId").empty()}))},Q=function e(){var t=R()(".google-visualization-charteditor-dialog");0===t.length?setTimeout((function(){e()}),50):(R()("#googleId").empty(),t.children().each((function(){R()("#googleId").append(this)})),R()(".modal-dialog-title").css({"background-color":l.colors.background.primary,color:l.colors.text.primary}),R()(".modal-dialog-content").css({"background-color":l.colors.background.primary,color:l.colors.text.primary}),t.hide())};if(s.data&&s.data.length>0){var ee=function(){var e=[{label:"string",value:"string"},{label:"number",value:"number"},{label:"boolean",value:"boolean"},{label:"date",value:"date"},{label:"datetime",value:"datetime"},{label:"timeofday",value:"timeofday"}];if(s.data){var n,o=[],l=k(s.data);try{var u=function(){var i=n.value,a=t().createElement("div",null,i.refId),s=i.fields.map((function(n){var o;return t().createElement("div",{key:"".concat(i.refId)},t().createElement("span",null,n.name),t().createElement(r.Select,{isLoading:!1,value:null===(o=S.find((function(e){return e.name===n.name&&e.refId===i.refId})))||void 0===o?void 0:o.type,allowCustomValue:!0,onChange:V(n.name,i.refId||""),options:e}))}));o.push(a),o.push(s)};for(l.s();!(n=l.n()).done;)u()}catch(e){l.e(e)}finally{l.f()}return{v:t().createElement("div",null,t().createElement("style",null,"      \n      .google-visualization-charteditor-preview-td{\n        position: relative !important;\n        top: 0px;\n        left: 0px\n      }\n      #google-visualization-charteditor-panel-navigate-div{\n        width: 350px \n      }\n      .marlft{\n        margin-left:20px\n      }\n      "),t().createElement("div",null,o),t().createElement("div",{style:{paddingBottom:"20px;"}},A||(A=t().createElement("label",null,"Data Transformation Instructions")),t().createElement(r.TextArea,{placeholder:"Data Transformation Instructions",cols:10,value:h,onChange:function(e){p(e.currentTarget.value),a(G({},i,{transformDataInstruction:e.currentTarget.value}))},name:"dataTransform"})),t().createElement("div",{style:{paddingBottom:"20px;"}},L||(L=t().createElement("label",null,"Data Join Instructions")),t().createElement(r.TextArea,{placeholder:"Data Join Instructions",cols:10,value:d,onChange:function(e){E(e.currentTarget.value),a(G({},i,{joinInstructions:e.currentTarget.value}))}})),t().createElement("div",{style:{paddingBottom:"20px;"}},C||(C=t().createElement("label",null,"Chart Option")),t().createElement(r.TextArea,{placeholder:"Chart Options",cols:10,value:I,onChange:function(e){w(e.currentTarget.value),a(G({},i,{chartOptions:e.currentTarget.value}))},id:"chartsOptId"})),t().createElement("div",null,t().createElement(r.Button,{size:"md",onClick:function(){Z(!0)}},"Load Chart"),t().createElement(r.Button,{className:"marlft",size:"md",onClick:function(){var e;e=document.getElementById("chartsOptId").value,w(e),a(G({},i,{chartOptions:e}))}},"Save Chart")),D||(D=t().createElement("div",null)),P||(P=t().createElement("div",{id:"chartEditorContainer"})),j||(j=t().createElement("div",{id:"googleId"})))}}}();if("object"===M(ee))return ee.v}return t().createElement(r.Select,{onChange:function(){},disabled:!0})},V=new h.PanelPlugin((function(e){var r,n,o,i,a,l=e.options,u=e.data,c=e.width,h=e.height,p=(e.timeRange,e.onChangeTimeRange,e.timeZone,e.onOptionsChange,e.id),f={schema:[],url:""};if(!u.series[0])return t().createElement("div",{style:{width:c,height:h}},t().createElement(s,f));var d="insights_"+p,m=window.location.search,v=new URLSearchParams(m).has("editPanel");return t().createElement($,{chartType:null===(r=l.chartFields)||void 0===r?void 0:r.chartType,chartOptions:null===(n=l.chartFields)||void 0===n?void 0:n.chartOptions,transformDataInstruction:null===(o=l.chartFields)||void 0===o?void 0:o.transformDataInstruction,joinInstructions:null===(i=l.chartFields)||void 0===i?void 0:i.joinInstructions,container:null===(a=l.chartFields)||void 0===a?void 0:a.container,rootId:d,data:u,isEdit:v,columnModel:l.chartFields.columnModel})})).setPanelOptions((function(e){return e.addCustomEditor({id:"chartFields",path:"chartFields",name:"ChartFields",description:"Fields required for Insights Charts",editor:B})}))})(),c})()));
//# sourceMappingURL=module.js.map